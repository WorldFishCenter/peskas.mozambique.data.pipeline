% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/validation-functions.R
\name{validate_price}
\alias{validate_price}
\title{Validate Catch Price}
\usage{
validate_price(data, k = 3, flag_value = 6)
}
\arguments{
\item{data}{A data frame with \code{submission_id}, \code{gear}, \code{catch_taxon},
and \code{catch_price}.}

\item{k}{A numeric parameter passed to \code{\link[univOutl]{LocScaleB}}, used in
\code{\link{get_price_bounds}}.}

\item{flag_value}{A numeric code (default \code{6}) assigned to outlier prices.}
}
\value{
A data frame with columns:
\describe{
\item{\code{submission_id}}{Carried from the input.}
\item{\code{catch_taxon}}{Carried from the input.}
\item{\code{catch_price}}{Potentially set to \code{NA} if outlier.}
\item{\code{alert_price}}{The numeric alert code, or \code{NA}.}
}
}
\description{
Detects outliers in \code{catch_price} by \code{gear + catch_taxon}, assigning a
numeric alert code to records exceeding the computed upper bound. Outliers can be
replaced with \code{NA}.
}
\details{
\enumerate{
\item Calls \code{\link{get_price_bounds}} to compute outlier thresholds.
\item Joins thresholds back to \code{data} via \code{gear} and \code{catch_taxon}.
\item Rowwise, flags prices above the \code{upper.up} bound with \code{alert_price},
and replaces them with \code{NA_real_}.
}
}
\examples{
\dontrun{
price_alert <- validate_price(data, k = 3, flag_value = 6)
head(price_alert)
}

}
\seealso{
\code{\link{get_price_bounds}}, \code{\link[univOutl]{LocScaleB}}
}
\keyword{validation}
