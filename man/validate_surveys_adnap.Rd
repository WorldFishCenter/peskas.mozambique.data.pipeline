% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/validation.R
\name{validate_surveys_adnap}
\alias{validate_surveys_adnap}
\title{Validate ADNAP Survey Data}
\usage{
validate_surveys_adnap(log_threshold = logger::DEBUG)
}
\arguments{
\item{log_threshold}{The logging level threshold for the logger package (e.g., DEBUG, INFO)}
}
\value{
Invisible NULL. The function uploads two datasets to Google Cloud Storage:
\enumerate{
\item Validation flags for each submission
\item Validated survey data with invalid submissions removed
}
}
\description{
Validates ADNAP survey data by applying quality control checks and integrating
with KoBoToolbox validation status. The function filters out submissions that don't
meet validation criteria and processes catch data. Approved submissions in KoBoToolbox
bypass automatic validation flags.
}
\details{
The validation process follows a two-stage approach:

\strong{Stage 1: Basic Data Quality Checks (Flags 1-7)}
\enumerate{
\item \strong{Form completeness}: Catch outcome is "1" but catch_taxon is missing
\item \strong{Catch info completeness}: Catch taxon exists but no weight or individuals
\item \strong{Length validation}: Fish length below species minimum
\item \strong{Length validation}: Fish length above species 75th percentile maximum
\item \strong{Bucket weight}: Weight per bucket exceeds 50kg
\item \strong{Bucket count}: Number of buckets exceeds 300
\item \strong{Individual count}: Number of individuals exceeds 200 per record
}

\strong{Stage 2: Composite Economic Indicators (Flags 8-10)}
\enumerate{
\item \strong{Price per kg}: Exceeds 2500 MZN/kg (~30 EUR/kg)
\item \strong{CPUE}: Catch per unit effort exceeds 30 kg/fisher/hour
\item \strong{RPUE}: Revenue per unit effort exceeds 2500 MZN/fisher/hour
}

\strong{KoBoToolbox Integration}:
The function queries KoBoToolbox validation status for each submission.
Submissions marked as "validation_status_approved" in KoBoToolbox have all
flags cleared and are included in the validated dataset regardless of automatic checks.
}
\note{
\itemize{
\item Requires configuration parameters in config.yml with KoBoToolbox credentials
\item Downloads preprocessed survey data from Google Cloud Storage
\item Uses parallel processing to query KoBoToolbox validation status
\item Submissions approved in KoBoToolbox bypass all automatic validation flags
\item Sets catch_kg to 0 when catch_outcome is 0
}
}
\examples{
\dontrun{
validate_surveys_adnap()
}

}
\keyword{validation}
\keyword{workflow}
