% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/validation-functions.R
\name{validate_catch_taxa}
\alias{validate_catch_taxa}
\title{Validate Catch at Taxon Level}
\usage{
validate_catch_taxa(data, k = 3, flag_value = 4)
}
\arguments{
\item{data}{A data frame containing (at least) \code{submission_id}, \code{gear},
\code{catch_taxon}, and \code{catch_kg}.}

\item{k}{A numeric parameter passed to \code{\link[univOutl]{LocScaleB}}; used for
computing outlier bounds in \code{\link{get_catch_bounds_taxon}}.}

\item{flag_value}{A numeric value to assign when \code{catch_kg} exceeds the upper bound.
Default is \code{4}.}
}
\value{
A data frame with the columns:
\describe{
\item{\code{submission_id}}{Carried from the input data.}
\item{\code{catch_taxon}}{Carried from the input data.}
\item{\code{catch_kg}}{Potentially modified if outlier.}
\item{\code{alert_catch}}{The alert code \code{flag_value} for outliers, or
\code{NA_real_} if no outlier.}
}
}
\description{
Flags outliers in \code{catch_kg} by comparing values to upper bounds computed per
\code{gear + catch_taxon} group (via \code{\link{get_catch_bounds_taxon}}).
Rows with \code{catch_kg} above the bound receive a numeric alert code and optionally
have their \code{catch_kg} set to \code{NA}.
}
\details{
\enumerate{
\item Calls \code{\link{get_catch_bounds_taxon}} to retrieve outlier bounds for each
\code{gear + catch_taxon} group.
\item Joins these bounds to \code{data} on \code{gear} and \code{catch_taxon}.
\item Rowwise, checks if \code{catch_kg} is greater than the bound \code{upper.up}.
If so, sets \code{alert_catch = flag_value} and optionally replaces
\code{catch_kg} with \code{NA_real_}.
}
}
\examples{
\dontrun{
catch_alert <- validate_catch_taxa(data, k = 3, flag_value = 4)
head(catch_alert)
}

}
\seealso{
\code{\link{get_catch_bounds_taxon}}, \code{\link[univOutl]{LocScaleB}}
}
\keyword{validation}
